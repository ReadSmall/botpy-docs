import{_ as o,r as d,o as p,c as r,b as s,d as a,w as t,e as n,a as l}from"./app.b78ca57a.js";const c={},i=s("h1",{id:"\u53D1\u9001\u6D88\u606F",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u53D1\u9001\u6D88\u606F","aria-hidden":"true"},"#"),n(" \u53D1\u9001\u6D88\u606F")],-1),D=s("p",null,"\u5411\u6307\u5B9A\u5B50\u9891\u9053\u63A8\u9001\u6D88\u606F\u3002",-1),u={class:"custom-container warning"},h=s("p",{class:"custom-container-title"},"\u6CE8\u610F",-1),y=l("<li>\u8981\u6C42\u64CD\u4F5C\u4EBA\u5728\u8BE5\u5B50\u9891\u9053\u5177\u6709<code>\u53D1\u9001\u6D88\u606F</code>\u7684\u6743\u9650\u3002</li><li>\u4E3B\u52A8\u63A8\u9001\u6D88\u606F\uFF0C\u9ED8\u8BA4\u6BCF\u5929\u5F80\u6BCF\u4E2A\u9891\u9053\u53EF\u63A8\u9001\u7684\u6D88\u606F\u6570\u662F <code>20</code> \u6761\uFF0C\u8D85\u8FC7\u4F1A\u88AB\u9650\u5236\u3002</li><li>\u4E3B\u52A8\u63A8\u9001\u6D88\u606F\u5728\u6BCF\u4E2A\u9891\u9053\u4E2D\uFF0C\u6BCF\u5929\u53EF\u4EE5\u5F80 <code>2</code> \u4E2A\u5B50\u9891\u9053\u63A8\u9001\u6D88\u606F\uFF0C\u8D85\u8FC7\u540E\u4F1A\u88AB\u9650\u5236\u3002</li><li>\u4E0D\u8BBA\u4E3B\u52A8\u6D88\u606F\u8FD8\u662F\u88AB\u52A8\u6D88\u606F\uFF0C\u5728\u4E00\u4E2A\u5B50\u9891\u9053\u4E2D\uFF0C\u6BCF <code>1s</code> \u53EA\u80FD\u53D1\u9001 <code>5</code> \u6761\u6D88\u606F\u3002</li><li>\u88AB\u52A8\u56DE\u590D\u6D88\u606F\u6709\u6548\u671F\u4E3A <code>5</code> \u5206\u949F\uFF0C\u8D85\u65F6\u4F1A\u62A5\u9519\u3002</li><li><strong>\u53D1\u9001\u6D88\u606F\u63A5\u53E3\u8981\u6C42\u673A\u5668\u4EBA\u63A5\u53E3\u9700\u8981\u94FE\u63A5\u5230 <code>websocket gateway</code> \u4E0A\u4FDD\u6301\u5728\u7EBF\u72B6\u6001</strong>\u3002</li>",6),m=n("\u6709\u5173\u4E3B\u52A8\u6D88\u606F\u5BA1\u6838\uFF0C\u53EF\u4EE5\u901A\u8FC7 "),_=n("Intents"),b=n(" \u4E2D\u5BA1\u6838\u4E8B\u4EF6 "),C=s("code",null,"MESSAGE_AUDIT",-1),v=n(" \u8FD4\u56DE "),g=n("MessageAudited"),E=n(" \u5BF9\u8C61\u83B7\u53D6\u7ED3\u679C\u3002"),q=l(`<h2 id="\u4F7F\u7528\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u793A\u4F8B" aria-hidden="true">#</a> \u4F7F\u7528\u793A\u4F8B</h2><div class="language-python ext-py line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> botpy</span></span>
<span class="line"><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> botpy.message </span><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> Message</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">MyClient</span><span style="color:#D4D4D4;">(</span><span style="color:#4EC9B0;">botpy</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">Client</span><span style="color:#D4D4D4;">):</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">async</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">def</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">on_at_message_create</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">self</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">message</span><span style="color:#D4D4D4;">: Message):</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">await</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">self</span><span style="color:#D4D4D4;">.api.post_message(</span><span style="color:#9CDCFE;">channel_id</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;xxxx&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">content</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;xxx&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">msg_id</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;xxxx&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">embed</span><span style="color:#D4D4D4;">=embed)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">intents = botpy.Intents(</span><span style="color:#9CDCFE;">public_guild_messages</span><span style="color:#D4D4D4;">=</span><span style="color:#569CD6;">True</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">client = MyClient(</span><span style="color:#9CDCFE;">intents</span><span style="color:#D4D4D4;">=intents)</span></span>
<span class="line"><span style="color:#D4D4D4;">client.run(</span><span style="color:#9CDCFE;">appid</span><span style="color:#D4D4D4;">={appid}, </span><span style="color:#9CDCFE;">token</span><span style="color:#D4D4D4;">={token})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u53C2\u6570\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570\u8BF4\u660E" aria-hidden="true">#</a> \u53C2\u6570\u8BF4\u660E</h2>`,3),f=s("thead",null,[s("tr",null,[s("th",null,"\u53C2\u6570"),s("th",null,"\u5FC5\u586B"),s("th",null,"\u7C7B\u578B"),s("th",null,"\u8BF4\u660E")])],-1),x=s("tr",null,[s("td",null,"channel_id"),s("td",null,"\u662F"),s("td",null,"string"),s("td",null,"\u5B50\u9891\u9053 ID")],-1),F=s("td",null,"content",-1),k=s("td",null,"\u5426",-1),A=s("td",null,"string",-1),M=n("\u6D88\u606F\u5185\u5BB9\uFF0C\u6587\u672C\u5185\u5BB9\uFF0C\u652F\u6301"),I=n("\u5185\u5D4C\u683C\u5F0F"),w=n("\uFF0C\u53EF\u4EE5\u4E3A\u7A7A"),B=s("tr",null,[s("td",null,"embed"),s("td",null,"\u5426"),s("td",null,[s("a",{href:"#messageembed"},"MessageEmbed")]),s("td",null,"embed \u6D88\u606F\uFF0C\u4E00\u79CD\u7279\u6B8A\u7684 ark")],-1),R=s("tr",null,[s("td",null,"ark"),s("td",null,"\u5426"),s("td",null,[s("a",{href:"#messageark"},"MessageArk")]),s("td",null,"ark \u6D88\u606F")],-1),T=s("tr",null,[s("td",null,"image"),s("td",null,"\u5426"),s("td",null,"string"),s("td",null,"\u56FE\u7247 url \u5730\u5740")],-1),j=s("tr",null,[s("td",null,"msg_id"),s("td",null,"\u5426"),s("td",null,"string"),s("td",null,[n("\u8981\u56DE\u590D\u7684\u6D88\u606F id\u3002"),s("strong",null,[n("\u5E26\u4E86 msg_id \u89C6\u4E3A"),s("a",{href:"#%E8%A2%AB%E5%8A%A8%E5%9B%9E%E5%A4%8D%E6%B6%88%E6%81%AF"},"\u88AB\u52A8\u56DE\u590D\u6D88\u606F"),n("\uFF0C\u5426\u5219\u89C6\u4E3A\u4E3B\u52A8\u63A8\u9001\u6D88\u606F")])])],-1),S=s("tr",null,[s("td",null,"message_reference"),s("td",null,[s("a",{href:"#messagereference"},"MessageReference")]),s("td",null,"\u5426"),s("td",null,"\u5F15\u7528\u6D88\u606F\u5BF9\u8C61")],-1),N=l('<p><code>content</code>\u3001<code>embed</code>\u3001<code>ark</code>\u3001<code>image</code><strong>\u81F3\u5C11\u9700\u8981\u6709\u4E00\u4E2A\u5B57\u6BB5</strong>\uFF0C\u5426\u5219\u65E0\u6CD5\u4E0B\u53D1\u6D88\u606F\u3002</p><h3 id="\u88AB\u52A8\u56DE\u590D\u6D88\u606F" tabindex="-1"><a class="header-anchor" href="#\u88AB\u52A8\u56DE\u590D\u6D88\u606F" aria-hidden="true">#</a> \u88AB\u52A8\u56DE\u590D\u6D88\u606F</h3><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u88AB\u52A8\u6D88\u606F\u9700\u662F\u7528\u6237<code>@\u673A\u5668\u4EBA</code>\u7684\u6D88\u606F\uFF0C\u5426\u5219\u5C06\u4F1A\u62A5\u9519\u3002</p></div><h2 id="messageembed" tabindex="-1"><a class="header-anchor" href="#messageembed" aria-hidden="true">#</a> MessageEmbed</h2>',4),V=n("\u8BE6\u89C1"),U=n("\u6D88\u606F\u5185\u5D4C\u683C\u5F0F"),L=n("\u3002"),O=s("h2",{id:"messageark",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#messageark","aria-hidden":"true"},"#"),n(" MessageArk")],-1),G=n("\u8BE6\u89C1"),z=n("\u53D1\u9001\u6A21\u677F\u6D88\u606F"),H=n("\u3002"),J=s("h3",{id:"messagereference",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#messagereference","aria-hidden":"true"},"#"),n(" MessageReference")],-1),K=n("\u8BE6\u89C1"),P=n("\u53D1\u9001\u5F15\u7528\u6D88\u606F"),Q=n("\u3002"),W=l(`<h2 id="\u8FD4\u56DE\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u8BF4\u660E" aria-hidden="true">#</a> \u8FD4\u56DE\u8BF4\u660E</h2><p>\u4E3B\u52A8\u6D88\u606F\u90FD\u9700\u8981\u5BA1\u6838\uFF0C\u8FD4\u56DE\u7ED3\u679C\u5982\u4E0B\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;code&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">304023</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;message&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;push message is waiting for audit now&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u82E5\u4E3A\u79C1\u57DF\u673A\u5668\u4EBA\u53EF\u6B63\u5E38\u8FD4\u56DE<a href="#message">Message</a> \u5BF9\u8C61\u3002</p><h3 id="message" tabindex="-1"><a class="header-anchor" href="#message" aria-hidden="true">#</a> Message</h3><table><thead><tr><th>\u5B57\u6BB5\u540D</th><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>id</td><td>string</td><td>\u6D88\u606F ID</td></tr><tr><td>channel_id</td><td>string</td><td>\u5B50\u9891\u9053 ID</td></tr><tr><td>guild_id</td><td>string</td><td>\u9891\u9053 ID</td></tr><tr><td>content</td><td>string</td><td>\u6D88\u606F\u5185\u5BB9</td></tr><tr><td>timestamp</td><td>string</td><td>\u6D88\u606F\u521B\u5EFA\u65F6\u95F4\uFF0C\u662F\u4E2A <code>iISO8601 timestamp</code> \u5B57\u7B26\u4E32\uFF0C\u4F8B\uFF1A&quot;2021-11-23T15:16:48+08:00&quot;</td></tr><tr><td>author</td><td><a href="#user">User</a></td><td>\u6D88\u606F\u521B\u5EFA\u8005</td></tr><tr><td>member</td><td><a href="#member">Member</a></td><td>\u6D88\u606F\u521B\u5EFA\u8005\u7684 member \u4FE1\u606F</td></tr></tbody></table><h3 id="user" tabindex="-1"><a class="header-anchor" href="#user" aria-hidden="true">#</a> User</h3><table><thead><tr><th>\u5B57\u6BB5\u540D</th><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>id</td><td>string</td><td>\u7528\u6237 ID</td></tr><tr><td>username</td><td>string</td><td>\u7528\u6237\u540D</td></tr><tr><td>bot</td><td>boolean</td><td>\u662F\u5426\u662F\u673A\u5668\u4EBA</td></tr></tbody></table><h3 id="member" tabindex="-1"><a class="header-anchor" href="#member" aria-hidden="true">#</a> Member</h3><table><thead><tr><th>\u5B57\u6BB5\u540D</th><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>roles</td><td>string[]</td><td>\u7528\u6237\u5728\u9891\u9053\u5185\u7684\u8EAB\u4EFD\u7EC4 ID\uFF0C\u9ED8\u8BA4\u503C\u53EF\u53C2\u8003<a href="#defaultroleids">DefaultRoleIDs</a></td></tr><tr><td>joined_at</td><td>string</td><td>\u7528\u6237\u52A0\u5165\u9891\u9053\u7684\u65F6\u95F4\uFF0C\u662F\u4E2A <code>ISO8601 timestamp</code> \u5B57\u7B26\u4E32\uFF0C\u4F8B\uFF1A&quot;2021-11-23T15:16:48+08:00&quot;</td></tr></tbody></table><h3 id="defaultroleids" tabindex="-1"><a class="header-anchor" href="#defaultroleids" aria-hidden="true">#</a> DefaultRoleIDs</h3><p>\u7CFB\u7EDF\u9ED8\u8BA4\u751F\u6210\u4E0B\u5217\u8EAB\u4EFD\u7EC4 ID\u3002</p><table><thead><tr><th>\u8EAB\u4EFD\u7EC4 ID \u9ED8\u8BA4\u503C</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>1</td><td>\u5168\u4F53\u6210\u5458</td></tr><tr><td>2</td><td>\u7BA1\u7406\u5458</td></tr><tr><td>4</td><td>\u7FA4\u4E3B/\u521B\u5EFA\u8005</td></tr><tr><td>5</td><td>\u5B50\u9891\u9053\u7BA1\u7406\u5458</td></tr></tbody></table><h2 id="\u8FD4\u56DE\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u793A\u4F8B" aria-hidden="true">#</a> \u8FD4\u56DE\u793A\u4F8B</h2><p>\u4EE5\u53D1\u9001\u6587\u672C\u5185\u5BB9<code>hello world</code>\u4E3A\u4F8B\uFF0C\u4E0B\u9762\u662F\u8FD4\u56DE\u793A\u4F8B\uFF1A</p><p><code>data</code>:</p><div class="language-json ext-json line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;id&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;101234567890abcdef&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;channel_id&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;10001&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;guild_id&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;6400000001&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;content&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;hello world&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;timestamp&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;2021-05-13T14:45:45+08:00&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;tts&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">false</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;mention_everyone&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">false</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;author&quot;</span><span style="color:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">&quot;id&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;12345&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">&quot;username&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;abc&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">&quot;avatar&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">&quot;bot&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">true</span></span>
<span class="line"><span style="color:#D4D4D4;">  },</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;embeds&quot;</span><span style="color:#D4D4D4;">: [{}],</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;pinned&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">false</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;type&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;flags&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">0</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17);function X(Y,Z){const e=d("RouterLink");return p(),r("div",null,[i,D,s("div",u,[h,s("ul",null,[y,s("li",null,[m,a(e,{to:"/develop/api/gateway/intents.html"},{default:t(()=>[_]),_:1}),b,C,v,a(e,{to:"/develop/model/message.html#messageaudited"},{default:t(()=>[g]),_:1}),E])])]),q,s("table",null,[f,s("tbody",null,[x,s("tr",null,[F,k,A,s("td",null,[M,a(e,{to:"/develop/api/message/message_format.html"},{default:t(()=>[I]),_:1}),w])]),B,R,T,j,S])]),N,s("p",null,[V,a(e,{to:"/develop/api/message/message_format.html"},{default:t(()=>[U]),_:1}),L]),O,s("p",null,[G,a(e,{to:"/develop/api/message/post_ark_message.html"},{default:t(()=>[z]),_:1}),H]),J,s("p",null,[K,a(e,{to:"/develop/api/message/post_reference_messages.html"},{default:t(()=>[P]),_:1}),Q]),W])}var ss=o(c,[["render",X],["__file","post_message.html.vue"]]);export{ss as default};
